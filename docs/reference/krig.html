<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Krige soil data following the methodology of the John et al. (2007). — krig • fgeo.habitat</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Krige soil data following the methodology of the John et al. (2007). — krig" />

<meta property="og:description" content="Functions to krige soil data:
GetKrigedSoil() is the original function but it is softly deprecated. Its
result is the same as krig()[[1]] when run for one soil variable.
krig() some additional convenient features:
An interface consistent with other functions of ForestGEO.
A a method for summary()(see examples).
Tries to guess plotdim.
Informs the guessed plotdim and the gridsize provided.
Allows to  suppress messages.
Iterating over multiple soil variables.
Has a method for to_df() (see examples).

" />

<meta property="og:description" content="[[1]: R:[1" />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fgeo.habitat</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.0.9005</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/krige.html">Krige soil data</a>
    </li>
    <li>
      <a href="../articles/tt_test.html">Habitat-species associations</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maurolepore">
    <span class="fa fa-gavel"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/forestgeo/fgeo.habitat">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://forestgeo.github.io/fgeo/">fgeo</a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Krige soil data following the methodology of the John et al. (2007).</h1>
    <small class="dont-index">Source: <a href='https://github.com/forestgeo/fgeo.habitat/blob/master/R/krig.R'><code>R/krig.R</code></a></small>
    <div class="hidden name"><code>krig.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Functions to krige soil data:</p><ul>
<li><p><code>GetKrigedSoil()</code> is the original function but it is softly deprecated. Its
result is the same as <code>krig()[[1]]</code> when run for one soil variable.</p></li>
<li><p><code>krig()</code> some additional convenient features:</p><ul>
<li><p>An interface consistent with other functions of ForestGEO.</p></li>
<li><p>A a method for <code>summary()</code>(see examples).</p></li>
<li><p>Tries to guess <code>plotdim</code>.</p></li>
<li><p>Informs the guessed <code>plotdim</code> and the <code>gridsize</code> provided.</p></li>
<li><p>Allows to  suppress messages.</p></li>
<li><p>Iterating over multiple soil variables.</p></li>
<li><p>Has a method for <code><a href='to_df.html'>to_df()</a></code> (see examples).</p></li>
</ul></li>
</ul>

    <p>[[1]: R:[1</p>
    
    </div>

    <pre class="usage"><span class='fu'>krig</span>(<span class='no'>soil</span>, <span class='no'>var</span>, <span class='kw'>params</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>gridsize</span> <span class='kw'>=</span> <span class='fl'>20</span>,
  <span class='kw'>plotdim</span> <span class='kw'>=</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/fgeo.base/topics/guess_plotdim'>guess_plotdim</a></span>(<span class='no'>soil</span>), <span class='kw'>breaks</span> <span class='kw'>=</span> <span class='fu'><a href='krig_breaks.html'>krig_breaks</a></span>(<span class='fl'>2</span>, <span class='fl'>320</span>, <span class='fl'>30</span>),
  <span class='kw'>use_ksline</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>quiet</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>GetKrigedSoil</span>(<span class='no'>df.soil</span>, <span class='no'>var</span>, <span class='kw'>gridSize</span> <span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>krigeParams</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>xSize</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>ySize</span> <span class='kw'>=</span> <span class='fl'>500</span>, <span class='kw'>breaks</span> <span class='kw'>=</span> <span class='fu'><a href='krig_breaks.html'>krig_breaks</a></span>(<span class='fl'>2</span>, <span class='fl'>320</span>, <span class='fl'>30</span>),
  <span class='kw'>useKsLine</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>soil, df.soil</th>
      <td><p>The data frame with the points, coords specified in the
columns <code>gx</code>, <code>gy</code>.</p></td>
    </tr>
    <tr>
      <th>var</th>
      <td><p>A character vector giving the name in the soil dataset of the
variable(s) containing soil data to krige. <code>var</code> must be of length 1 for
<code>GetKrigedSoil()</code> but can be of length greater than one for <code>krig()</code>.</p></td>
    </tr>
    <tr>
      <th>params, krigeParams</th>
      <td><p>If you want to pass specified kriging parameters;
see <code><a href='krig_auto_params.html'>krig_auto_params()</a></code> for each parameter.</p></td>
    </tr>
    <tr>
      <th>gridsize, gridSize</th>
      <td><p>Points are kriged to the center points of a grid of
this size.</p></td>
    </tr>
    <tr>
      <th>plotdim, xSize, ySize</th>
      <td><p>Numeric vectors giving x and y dimensions of the
plot:</p><ul>
<li><p><code>plotdim</code>: Must be of length 2 with the format <code>c(x, y)</code>.</p></li>
<li><p><code>xSize</code>, <code>ySize</code>: Each must be of length 1.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>breaks</th>
      <td><p>Breaks/intervals used to calculate the semivariogram, which
only happens if <code>krigeParams = NULL</code> (default).</p></td>
    </tr>
    <tr>
      <th>use_ksline, useKsLine</th>
      <td><p>Use the <code><a href='http://www.rdocumentation.org/packages/geoR/topics/ksline'>geoR::ksline()</a></code> function? Use <code>TRUE</code> to
calculate a "best" semivariogram based on default parameters via
<code>geoR::variogram()</code>]. Use <code>FALSE</code> to base calculation on parameters passed
to <code>params</code>.</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>Use <code>TRUE</code> to suppresses messages.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list with the following items:</p><ul>
<li><p><code>df</code>: Data frame of kriged values (column z) at each grid point (x, y).</p></li>
<li><p><code>df.poly</code>: Data frame of the polynomial surface fitted to the raw data.</p></li>
<li><p><code>lambda</code>: The "lambda" value used in the Box-Cox transform of the raw
data.</p></li>
<li><p><code>vg</code>: A list giving the variogram parameters used for the kriging.</p></li>
<li><p><code>vm</code>: Minimum loss value returned from <code><a href='http://www.rdocumentation.org/packages/geoR/topics/variofit'>geoR::variofit()</a></code>.</p></li>
</ul>

    
    <h2 class="hasAnchor" id="breaks-default"><a class="anchor" href="#breaks-default"></a>Breaks default</h2>

    
    <p>The default breaks argument is set to have more points where the exponential
curve rises the most and fewer at large distances. This means that the curve
fitting is not overly biased by points beyond the effective maximum range.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='http://www.rdocumentation.org/packages/geoR/topics/variofit'>geoR::variofit()</a></code>, <code><a href='http://www.rdocumentation.org/packages/geoR/topics/variog'>geoR::variog()</a></code>, <code><a href='http://www.rdocumentation.org/packages/geoR/topics/as.geodata'>geoR::as.geodata()</a></code>,
<code><a href='http://www.rdocumentation.org/packages/geoR/topics/ksline'>geoR::ksline()</a></code>, <code><a href='http://www.rdocumentation.org/packages/geoR/topics/krige.conv'>geoR::krige.conv()</a></code>, <code><a href='http://www.rdocumentation.org/packages/geoR/topics/krige.conv'>geoR::krige.control()</a></code>.</p>
<p><code><a href='to_df.krig_lst.html'>to_df.krig_lst()</a></code>, <code><a href='summary.krig_lst.html'>summary.krig_lst()</a></code>.</p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Original funciton</span>
<span class='co'># Using automated parameters</span>
<span class='no'>auto</span> <span class='kw'>&lt;-</span> <span class='fu'>GetKrigedSoil</span>(<span class='no'>soil_fake</span>, <span class='kw'>var</span> <span class='kw'>=</span> <span class='st'>"c"</span>)</div><div class='output co'>#&gt; variog: computing omnidirectional variogram
#&gt; variofit: covariance model used is exponential 
#&gt; variofit: weights used: npairs 
#&gt; variofit: minimisation function used: optim 
#&gt; variofit: covariance model used is circular 
#&gt; variofit: weights used: npairs 
#&gt; variofit: minimisation function used: optim 
#&gt; variofit: covariance model used is cauchy 
#&gt; variofit: weights used: npairs 
#&gt; variofit: minimisation function used: optim 
#&gt; variofit: covariance model used is gaussian 
#&gt; variofit: weights used: npairs 
#&gt; variofit: minimisation function used: optim 
#&gt; ksline: kriging location:  1 out of 1250 
#&gt; ksline: kriging location:  101 out of 1250 
#&gt; ksline: kriging location:  201 out of 1250 
#&gt; ksline: kriging location:  301 out of 1250 
#&gt; ksline: kriging location:  401 out of 1250 
#&gt; ksline: kriging location:  501 out of 1250 
#&gt; ksline: kriging location:  601 out of 1250 
#&gt; ksline: kriging location:  701 out of 1250 
#&gt; ksline: kriging location:  801 out of 1250 
#&gt; ksline: kriging location:  901 out of 1250 
#&gt; ksline: kriging location:  1001 out of 1250 
#&gt; ksline: kriging location:  1101 out of 1250 
#&gt; ksline: kriging location:  1201 out of 1250 
#&gt; ksline: kriging location:  1250 out of 1250 
#&gt; Kriging performed using global neighbourhood </div><div class='input'><span class='fu'>summary</span>(<span class='no'>auto</span>)</div><div class='output co'>#&gt;         Length Class      Mode   
#&gt; df       3     data.frame list   
#&gt; df.poly  3     data.frame list   
#&gt; lambda   1     -none-     numeric
#&gt; vg      20     variogram  list   
#&gt; vm      17     variomodel list   </div><div class='input'>
<span class='co'># Wrapper produces the same output and add convenient features</span>

<span class='co'># Now using custom parameters (arbitrary but based on automated kriging params)</span>
<span class='no'>params</span> <span class='kw'>&lt;-</span> <span class='fu'>list</span>(
  <span class='kw'>model</span> <span class='kw'>=</span> <span class='st'>"circular"</span>, <span class='kw'>range</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>nugget</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>sill</span> <span class='kw'>=</span> <span class='fl'>46000</span>, <span class='kw'>kappa</span> <span class='kw'>=</span> <span class='fl'>0.5</span>
)

<span class='co'># Also using not one but multiple soil variables</span>
<span class='no'>vars</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"c"</span>, <span class='st'>"p"</span>)
<span class='no'>custom</span> <span class='kw'>&lt;-</span> <span class='fu'>krig</span>(<span class='no'>soil_fake</span>, <span class='no'>vars</span>, <span class='kw'>params</span> <span class='kw'>=</span> <span class='no'>params</span>, <span class='kw'>quiet</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='fu'>summary</span>(<span class='no'>custom</span>)</div><div class='output co'>#&gt; var: c 
#&gt; df
#&gt; 'data.frame':	1150 obs. of  3 variables:
#&gt;  $ x: num  10 30 50 70 90 110 130 150 170 190 ...
#&gt;  $ y: num  10 10 10 10 10 10 10 10 10 10 ...
#&gt;  $ z: num  2.29 2.31 2.22 2.04 1.79 ...
#&gt; 
#&gt; df.poly
#&gt; 'data.frame':	1150 obs. of  3 variables:
#&gt;  $ gx: num  10 30 50 70 90 110 130 150 170 190 ...
#&gt;  $ gy: num  10 10 10 10 10 10 10 10 10 10 ...
#&gt;  $ z : num  2.13 2.12 2.1 2.09 2.07 ...
#&gt; 
#&gt; lambda
#&gt; 'numeric'
#&gt;  num 1
#&gt; 
#&gt; vg
#&gt; 'NULL'
#&gt;  NULL
#&gt; 
#&gt; vm
#&gt; 'NULL'
#&gt;  NULL
#&gt; 
#&gt; var: p 
#&gt; df
#&gt; 'data.frame':	1150 obs. of  3 variables:
#&gt;  $ x: num  10 30 50 70 90 110 130 150 170 190 ...
#&gt;  $ y: num  10 10 10 10 10 10 10 10 10 10 ...
#&gt;  $ z: num  6.2 6.09 6.01 6.03 6.1 ...
#&gt; 
#&gt; df.poly
#&gt; 'data.frame':	1150 obs. of  3 variables:
#&gt;  $ gx: num  10 30 50 70 90 110 130 150 170 190 ...
#&gt;  $ gy: num  10 10 10 10 10 10 10 10 10 10 ...
#&gt;  $ z : num  6.37 6.35 6.33 6.31 6.29 ...
#&gt; 
#&gt; lambda
#&gt; 'numeric'
#&gt;  num 1
#&gt; 
#&gt; vg
#&gt; 'NULL'
#&gt;  NULL
#&gt; 
#&gt; vm
#&gt; 'NULL'
#&gt;  NULL
#&gt; </div><div class='input'>
<span class='no'>result</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='to_df.html'>to_df</a></span>(<span class='no'>custom</span>, <span class='kw'>item</span> <span class='kw'>=</span> <span class='st'>"df"</span>)
<span class='fu'>head</span>(<span class='no'>result</span>)</div><div class='output co'>#&gt;   var   x  y        z
#&gt; 1   c  10 10 2.290586
#&gt; 2   c  30 10 2.306093
#&gt; 3   c  50 10 2.221311
#&gt; 4   c  70 10 2.037240
#&gt; 5   c  90 10 1.793122
#&gt; 6   c 110 10 1.544911</div><div class='input'>
<span class='fu'>tail</span>(<span class='no'>result</span>)</div><div class='output co'>#&gt;      var   x   y        z
#&gt; 2295   p 890 450 5.843585
#&gt; 2296   p 910 450 5.835235
#&gt; 2297   p 930 450 5.827757
#&gt; 2298   p 950 450 5.821150
#&gt; 2299   p 970 450 5.815414
#&gt; 2300   p 990 450 5.810549</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#breaks-default">Breaks default</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Graham Zemunik (grah.zem@gmail.com).

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/maurolepore'>Mauro Lepore</a>, <a href='http://www.forestgeo.si.edu/'>CTFS-ForestGEO</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

